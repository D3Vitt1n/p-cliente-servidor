<%@ page language="java" contentType="text/html; charset=ISO-8859-1" pageEncoding="ISO-8859-1"%>
<%-- Importe as classes necessárias --%>
<%@ page import="java.text.NumberFormat" %>
<%@ page import="java.util.Locale" %>
<%@ page import="java.io.PrintWriter" %>

<%
    // Dados do usuário
    String nome = "Vitor Hugo";

    // Valores enviados pelo formulário
    String destinatario = request.getParameter("destinatario");
    double valorTransferencia = Double.parseDouble(request.getParameter("valor"));
    double saldoAtual = Double.parseDouble(request.getParameter("saldoAtual"));

    // Verifica se o valor da transferência é válido
    if (valorTransferencia <= 0) {
        out.println("O valor da transferência deve ser maior que zero.");
    } else if (valorTransferencia > saldoAtual) {
        out.println("Saldo insuficiente para realizar a transferência.");
    } else {
        // Calcula o novo saldo
        double novoSaldo = saldoAtual - valorTransferencia;

        // Atualiza o saldo
        saldoAtual = novoSaldo;
        %>
        	<!DOCTYPE html>
<html>
<head>
    <meta charset="ISO-8859-1">
    <title>Transferência de Dinheiro</title>

    <!-- Adicione links para os estilos do Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body>
    <div class="container mt-5">
        <div class="row">
            <div class="col-md-6">
                <h1>Transferência de Dinheiro</h1>
            </div>
            <div class="col-md-6">
                <h1>Saldo Atual</h1>
                <p>Nome: <%= nome %></p>
                <p>Saldo: R$ <span id="saldo"><%= NumberFormat.getCurrencyInstance(new Locale("pt", "BR")).format(saldoAtual) %></span></p>
            </div>
        </div>
        <%-- Outras partes do código podem ser mantidas como antes --%>
    </div>

    <!-- Adicione scripts Bootstrap e outros scripts necessários aqui -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>
</html>
        <%
    }
%>

